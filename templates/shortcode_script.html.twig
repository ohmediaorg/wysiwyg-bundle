<script>
document.addEventListener('DOMContentLoaded', function() {
  const shortcodes = document.querySelectorAll('code[data-shortcode]');

  shortcodes.forEach((el) => {
    const shortcode = el.dataset.shortcode;

    const params = new URLSearchParams();
    params.append('shortcode', shortcode);

    fetch(`{{ path('shortcode_links') }}?${params}`)
      .then(r => r.json())
      .then(r => {
        console.log(shortcode, r);
      });
  });
});
</script>
